{"componentChunkName":"component---node-modules-gatsby-theme-notes-src-templates-note-js","path":"/notes/ideas/patterns","result":{"data":{"note":{"id":"49cf29dd-52e2-561f-a225-3fab17be5162","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"moved from notes\"), mdx(\"h1\", {\n    \"id\": \"patterns\"\n  }, \"Patterns\"), mdx(\"p\", null, \"This document tries to find a way to generate melodic patterns.\\nRun \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm run demo-patterns\"), \" to get a playground to listen to them and to render them graphically.\"), mdx(\"h2\", {\n    \"id\": \"definition\"\n  }, \"Definition\"), mdx(\"p\", null, \"A Pattern is a small melodic fragment. It can be described by using positions within a scale:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 5\"), \" within C major would be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C D E G\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 5\"), \" within G minor would be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"G A Bb D\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 5 3\"), \" within C would be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C G E\"), \".\")), mdx(\"p\", null, \"Instead of a scale, a chord could also be used:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 5\"), \" within C-7 would be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C D Eb G\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 5\"), \" within G-7b5 would be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"G Ab Bb Db\"), \".\")), mdx(\"h3\", {\n    \"id\": \"problem-with-chord-scales\"\n  }, \"Problem with chord scales\"), mdx(\"p\", null, \"Inside chords, the notes that are not part of the chord directly (e.g. 2 in -7b5) are not clearly defined. So we first would need to determine the scale that should be used for the chord. This is rather complicated because it depends on the function of the chord which scale fits best:\"), mdx(\"p\", null, \"In the progression \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"C^7 | D-7 G7 | E-7\"), \", the D-7 is the second degree inside C^7, meaning the dorian scale would fit best. The E-7 is the third degree with a phrygian scale being the most common.\"), mdx(\"h2\", {\n    \"id\": \"direction\"\n  }, \"Direction\"), mdx(\"p\", null, \"We could add minus or plus signs to the pattern to indicate an intended directional movement. Imagine we want the root note, its fith above and then the third between, like: C3 G3 E3.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local expression: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 5 -3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global expression: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 5 3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest expression: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +5 3\"))), mdx(\"p\", null, \"Those three options all have the same goal but a different interpretation:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: a minus sign tells that this note should be landed on coming from above.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: a minus sign tells that this note is below the one\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: no signs means the nearest note, a plus the note above, a minus the note below.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: no signs, but bigger\")), mdx(\"p\", null, \"To decide which one is the best, lets look at more examples:\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"seventh up to one\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 3 5 7 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 3 5 7 +1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 3 5 7 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 3 5 7 8\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"seventh down\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 -7 -5 -3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 -7 -5 -3\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"+1 7 5 3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 7 5 3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"8 7 5 3\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Equinox\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"5 3 -1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-5 3 1\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"5 +3 +1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"5 +3 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"5 10 1\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Blues line (going up to #11) \", \"[1,#11,4,b3,1]\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 #11 -4 -b3 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 #11 4 b3 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 #11 4 b3 1\"), \" (#11 is equally away, but default would be up..)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 #4 4 b3 1\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Blues line (going down to #11) \", \"[1,#11,4,b3,1]\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 -#11 -4 -b3 -1\"), \" => 1 and -1 is same note\\u2026\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 -#11 -4 -b3 -1\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"+1 #11 4 b3 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 -#11 4 b3 1\"), \" (#11 is equally away, but default would be up..)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"8 #4 4 b3 1\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Blue Bossa\"), \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +1 -7 -6 -5 -4\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +1 7 6 5 4\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +1 7 6 5 4\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 8 7 6 5 4\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Octave pyramid \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"C2 C3 C4 C3 C2\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +1 +1 -1 -1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +1 ++1 +1 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 +1 +1 -1 -1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 8 15 8 1\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Double Octave jump \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"C2 C4 C2\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 ++1 --1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 ++1 1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 ++1 --1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 15 1\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Triple octave scale\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 4 5 6 7 1 2 3 4 5 6 7 1 2 3 4 5 6 7\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-1 -2 -3 -4 -5 -6 -7 1 2 3 4 5 6 7 +1 +2 +3 +4 +5 +6 +7\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 4 5 6 7 1 2 3 4 5 6 7 1 2 3 4 5 6 7\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21\"))), mdx(\"p\", null, \"Pros and cons:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"local: pro: easy concept, contra: many minus signs needed when going down + same note can look different\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"global: pro: same notes look alike, less signs. contra: needs minus and plus signs\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nearest: pro: very few signs needed. contra: complicated concept\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"absolute: pro: no signs needed. contra: higher numbers are less intuitive\")), mdx(\"p\", null, \"In the end, the global method seems the most logical, and the absolute the most simple.\\nBecause most patterns do use up more than two octaves, the absolute should suffice.\"), mdx(\"h2\", {\n    \"id\": \"transposition\"\n  }, \"Transposition\"), mdx(\"h3\", {\n    \"id\": \"absolute-transposition\"\n  }, \"Absolute Transposition\"), mdx(\"p\", null, \"When practising patterns, one would want to practise it in multiple keys. After completing a pattern in one key, the player would progress to the next key by moving up or down a specific interval, e.g playing major triads, progressing with fourths:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the pattern would be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1 3 5\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the transposition would be 5 semitones\")), mdx(\"p\", null, \"starting with C, the result is\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"C E G\\nF A C\\nBb D F\\nEb G Bb\\nAb C Eb\\nF# A# C#\\nB D# F#\\nE G# B\\nA C# E\\nD F# A\\nG B D\\n\")), mdx(\"h3\", {\n    \"id\": \"relative-transposition\"\n  }, \"Relative Transposition\"), mdx(\"p\", null, \"Instead of playing the exact same pattern from different start notes, we could play the pattern inside a tonality, adapting it to the notes that are inside. The transposition parameter is then a degree and not an interval\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1 3 5\"), \" within C major, progressing in fourths could be:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"C E G\\nF A C\\nB D F\\nE G B\\nA C E\\nD F A\\nG H D\\n\")), mdx(\"p\", null, \"At \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"B D F\"), \", the fourth is diminished to stay inside C major. The triads are also minor/major/diminished based on the tonality.\"), mdx(\"h2\", {\n    \"id\": \"range\"\n  }, \"Range\"), mdx(\"p\", null, \"When we would want to render patterns to notes, we need to add octaves to the pitch classes.\\nIf we would simply apply the intervals as is, the sequence would quickly leave the range of a normal instrument.\\nTo solve this problem we must add jumps at certain spots to remain in the range.\"), mdx(\"h3\", {\n    \"id\": \"interval-permutations\"\n  }, \"Interval permutations\"), mdx(\"p\", null, \"A simple approach would be a permutation of all possible intervals, e.g. a C triad (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"C E G\"), \") would have the following combinations within the interval limit of one octave:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G3 = 3M 3m\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G2 = 3M -6M\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E2 G2 = -6m 3m\")), mdx(\"p\", null, \"Of course, we could allow jumps higher than an octave, but those are uncommon for melodic movements.\"), mdx(\"h4\", {\n    \"id\": \"get-all-possible-permutations\"\n  }, \"Get all possible permutations\"), mdx(\"p\", null, \"To decide which permutation should be used we need a given range, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"['C2', 'C4']\"), \" and optionally a last played note e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"D2\"), \". Goals:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"All notes must be inside the range\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The best permutation is the one with the smallest last to first note interval.\")), mdx(\"h4\", {\n    \"id\": \"without-last-played-note\"\n  }, \"Without last played note\"), mdx(\"p\", null, \"When having no last note given we could start on every note inside the range that has the pitch class of the first note in the pattern, for our example this would be C2, C3 and C4. For each possible start note, we can now render the following notes, using the interval permutations:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C2: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C2 E2 G2\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C2 E2 G1\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C2 E1 G1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E3 G3\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E3 G2\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E2 G2\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C4 E4 G4\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C4 E4 G3\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C4 E3 G3\"))), mdx(\"p\", null, \"After removing the patterns that contain notes out of range:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C2: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C2 E2 G2\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E3 G3\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E3 G2\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E2 G2\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C4 E3 G3\"))), mdx(\"p\", null, \"So we would have 5 possibilities to play C major inside our range.\"), mdx(\"h4\", {\n    \"id\": \"with-last-played-note\"\n  }, \"With last played note\"), mdx(\"p\", null, \"When having a last played note given, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"D3\"), \", we can further narrow down the choices by calculating the semitones from it to the first note:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C2: 14\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3: -2\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4: 10\")), mdx(\"p\", null, \"This eliminates C2 as start note because it is over our limit of one octave, leaving us four choices:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E3 G3\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E3 G2\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C3 E2 G2\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C4 E3 G3\"))), mdx(\"p\", null, \"Another more performant way to get those start notes would be to narrow down the range to the last played note minus and plus one octave:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"from: D3 - 1 octave = D2\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"to: D3 + 1 octave = D4\")), mdx(\"p\", null, \"All C\\u2019s inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"['D2', 'D4']\"), \" are C3 and C4.\"), mdx(\"h3\", {\n    \"id\": \"more-properties-for-filteringsorting\"\n  }, \"More Properties for filtering/sorting\"), mdx(\"p\", null, \"We could add more properties to our analysis to help us find the best match.\"), mdx(\"h4\", {\n    \"id\": \"number-of-direction-changes\"\n  }, \"number of direction changes\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G3 = 3M 3m = 0 direction changes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G2 = 3M -6M = 1 direction change\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E2 G2 = -6m 3m = 1 direction change\")), mdx(\"p\", null, \"If we would now sort the permutations by direction change, we would get \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"C3 E3 G3\"), \" as the definitive winner, being the only one without direction change.\"), mdx(\"h4\", {\n    \"id\": \"number-of-jumps\"\n  }, \"number of jumps\"), mdx(\"p\", null, \"The number of jumps could describe the number of deviations to the original pattern:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G3 = 3M 3m = 0 jumps\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G2 = 3M -6M = 1 jump\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E2 G2 = -6m 3m = 1 jump\")), mdx(\"p\", null, \"This looks the same like direction changes, but depending on the pattern, it differs.\"), mdx(\"p\", null, \"For example when having a pattern that already has direction change in it like \", \"[1,5,3]\", \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G3 E3 = \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[1,5,3]\"), \" = 0 jumps (1 direction change)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G2 E2 = \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[8,5,3]\"), \" = 1 jump (1 direction change)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4 G3 E3 = \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[8,5,3]\"), \" = 1 jump (1 direction change)\")), mdx(\"p\", null, \"The number of jumps can be seen as the numer of points where the original pattern is altered in octave. The intention of the original pattern is based on its default direction (see chapter of direction).\\nLets keep the notes, but change the direction to \", \"[8,5,3]\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G3 E3 = \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[1,5,3]\"), \" = 1 jump => from C to G\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4 G3 E3 = \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[8,5,3]\"), \" = 0 jumps\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G2 E2 = \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[8,5,3]\"), \" = 0 jumps\")), mdx(\"p\", null, \"If we only want to go up \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[1,5,10]\"), \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G3 E3 = 5P -3m = 1 jump \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[1,5,3]\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G2 E2 = -4P 3m = 2 jumps \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[8,5,3]\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C4 G3 E3 = -4P -3m = 2 jumps \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"[8,5,3]\"))), mdx(\"p\", null, \"As we see, the original intention does not fit in the range of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"['D2', 'D4']\"), \" at all:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C2 G2 E3 = 0 jumps => first note too low\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 G3 E4 = 0 jumps => last to too high\")), mdx(\"h4\", {\n    \"id\": \"total-number-of-semitones-moved\"\n  }, \"total number of semitones moved\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G3 = 3M 3m = 7 semitones moved\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G2 = 3M -6M = 13 semitones moved\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E2 G2 = -6m 3m = 12 semitones moved\")), mdx(\"p\", null, \"Sorting by that property would also give as the root position as winner.\"), mdx(\"h4\", {\n    \"id\": \"semitones-moved-from-first-to-last-note\"\n  }, \"semitones moved from first to last note\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G3 = 3M 3m = 7 semitones moved\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G2 = 3M -6M = -5 semitones moved\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E2 G2 = -6m 3m = -5 semitones moved\")), mdx(\"p\", null, \"Sorting by the absolute value of this property we would get the two non root positions as winner!\"), mdx(\"h4\", {\n    \"id\": \"semitone-distance-between-lowest-and-highest-note\"\n  }, \"semitone distance between lowest and highest note\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G3 = 3M 3m = 7 semitones distance\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E3 G2 = 3M -6M = 9 semitones distance\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C3 E2 G2 = -6m 3m = 8 semitones distance\")), mdx(\"p\", null, \"This property is again won by the root position\"), mdx(\"h4\", {\n    \"id\": \"more-options\"\n  }, \"more options\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"prefer specific intervals e.g. sort by number of sixths\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"use min/max values\")), mdx(\"h3\", {\n    \"id\": \"limitations-of-permutation\"\n  }, \"Limitations of Permutation\"), mdx(\"p\", null, \"Permutations can quickly become very expensive when the number of items increases. Here are some ideas to keep the number small:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"bigger patterns could be split into smaller chunks\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the filter mechanism of permutation must be very strict.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"a permutation calculation could also be quit as soon as a valid candidate has been found.\")), mdx(\"h2\", {\n    \"id\": \"approach-notes\"\n  }, \"Approach Notes\"), mdx(\"p\", null, \"Often times a pattern doesn\\u2019t have enough notes to fill a bar. This is where approach notes come in. Keeping the example triads moving in fourths, we would need an extra note to fill 4 beats.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Rule of Thumb\"), \": An approach note should always be different from the notes that were played before and after\"), mdx(\"h3\", {\n    \"id\": \"chromatic-approach-notes\"\n  }, \"Chromatic Approach Notes\"), mdx(\"p\", null, \"A Good way to fill this missing note is to use an approach note that is a half step above or below the next start note:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G Gb> F A C B> Bb D F E> ...\"), \" chromatic approach from above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G E> F A C A> Bb D F E> ...\"), \" chromatic approach from below\")), mdx(\"p\", null, \"This approach always works and is independent of the current tonality.\"), mdx(\"h3\", {\n    \"id\": \"diatonic-approach-notes\"\n  }, \"Diatonic Approach Notes\"), mdx(\"p\", null, \"Instead of always using half steps to approach, we could use the next diatonic note above or below:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G G> F A C C> Bb D F F> ...\"), \" diatonic approach from above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G E> F A C A> Bb D F D> ...\"), \" diatonic approach from below \", \"*\")), mdx(\"p\", null, \"*\", \" This approach equals the chromatic approach from below\"), mdx(\"p\", null, \"In this example, approaching \\u0192rom above would not work well because of the repeated note. Lets progress in seconds:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G E> D F# A F#> E G# B G#> ...\"), \" diatonic approach from above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G C> D F# A D> E G# B E> ...\"), \" diatonic approach from below\")), mdx(\"p\", null, \"This example works in both cases. Another possibility would be to calculate the diatonic approach inside the approached tonality:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G E> D F# A F#> E G# B G#> ...\"), \" diatonic approach from above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G C#> D F# A D#> E G# B E> ...\"), \" diatonic approach from below\")), mdx(\"p\", null, \"while the approach from above stays the same because of the common note, the approach from below is now a half step.\"), mdx(\"h3\", {\n    \"id\": \"doubling-pattern-notes\"\n  }, \"Doubling Pattern Notes\"), mdx(\"p\", null, \"Another way to \\u201Capproach\\u201D the next pattern would be to double the notes inside the pattern that are closest to the approached note:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G C> F A C F> Bb D F Bb> ...\"), \" pattern approach from above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G E> F A C A> Bb D F D> ...\"), \" pattern approach from below \", \"*\")), mdx(\"p\", null, \"*\", \" This approach equals the chromatic and diatonic approach from below\"), mdx(\"p\", null, \"Like with the diatonic approach, we can also use a pattern note of the next pattern to approach with:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G A> F A C D> Bb D F D> ...\"), \" pattern approach from above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C E G C> F A C F> Bb D F Bb> ...\"), \" pattern approach from below \", \"*\")), mdx(\"p\", null, \"*\", \" This approach looks like the pattern approach from above within the origin pattern but would need to be an octave lower to approach from below.\"), mdx(\"h3\", {\n    \"id\": \"approach-notes-inside-one-tonality\"\n  }, \"Approach Notes inside one tonality\"), mdx(\"p\", null, \"Lets imagine the pattern \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1 2 3\"), \" inside c major with possible approach notes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D E (Eb/C#/C)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"D E F (D#/D) \", \"*\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E F G (Gb/E)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"F G A (Ab/F#/F)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"G A B (Bb/G#/G)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A B C (Bb/A) \", \"*\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"B C D (Db/B)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"(C)\")), mdx(\"p\", null, \"As we see, some patterns have less approach options as others. Also, some approach options play multiple roles.\"), mdx(\"h3\", {\n    \"id\": \"approach-notes-between-pattern-notes\"\n  }, \"Approach Notes between pattern notes\"), mdx(\"p\", null, \"Now lets look at inserting approach notes between individual pattern notes.\\nA C major triad could be approach that way\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C (D/D#/F/G) E (F/F#/Ab/A/C) G\"))), mdx(\"p\", null, \"The roles of the different approach notes are:\"), mdx(\"p\", null, \"From C to E:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"D: diatonic approach below\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"D#: chromatic approach below\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"F: diatonic approach above + chromatic approach above\\n(- G: pattern approach above)\")), mdx(\"p\", null, \"From E to G:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"F: diatonic approach below\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"F#: chromatic approach below\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ab: chromatic approach above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A: diatonic approach above\\n(- C: pattern approach above)\")), mdx(\"p\", null, \"Now we have many nearly endless options, depending on the number of notes we fill in. In practise, approaches are often shaped similarly. This helps us narrow down the choices.\"), mdx(\"h3\", {\n    \"id\": \"one-note-approach\"\n  }, \"One note approach\"), mdx(\"p\", null, \"Those are the options if we always use the same type of approach for each note:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D E F G => diatonic approach below\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D# E F# G => chromatic approach below\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F E A G => diatonic approach above\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F E Ab G => chromatic approach above\")), mdx(\"h3\", {\n    \"id\": \"two-note-approach\"\n  }, \"Two note approach\"), mdx(\"p\", null, \"If we want to always approach first from above and then below, we have the following options:\"), mdx(\"p\", null, \"C to E:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F D# E\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F D E\")), mdx(\"p\", null, \"E to G\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E A F# G\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E Ab F# G\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E A F G\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E Ab F G\")), mdx(\"p\", null, \"When playing those possibilities, we notice that the diatonic approaches have less movement than the chromatic approaches. Most jazz players would first approach diatonic and then chromatic to create tension.\"), mdx(\"h3\", {\n    \"id\": \"below-and-above\"\n  }, \"Below and above\"), mdx(\"p\", null, \"The effect of approaching below or above depends on the direction of the melody. For example, if we add an approach note between C and E, the effect of a chromatic approach below is different than approaching C from E:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D# E\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E B C\")), mdx(\"p\", null, \"The functional equivalents would be:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D# E (going up)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"E Db C (going down)\")), mdx(\"p\", null, \"So the function depends on the direction of the pattern notes itself.\\nTo abstract that, we could talk of same direction and opposite:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D# E (chromatic approach same direction )\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D E (diatonic approach same direction)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F E (chromatic+diatonic approach opposite direction)\")), mdx(\"h4\", {\n    \"id\": \"example\"\n  }, \"Example\"), mdx(\"p\", null, \"Back to the C major triad one note approach example:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D E F G => diatonic approach same direction\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C D# E F# G => chromatic approach same direction\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F E A G => diatonic approach opposite direction\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"C F E Ab G => chromatic approach opposite direction\")), mdx(\"p\", null, \"If we now would want a similar effect for a triad going down:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"G F E D C => diatonic approach same direction\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"G F E Db C => chromatic approach same direction\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"G D E B C => diatonic approach opposite direction\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"G D# E B C => chromatic approach opposite direction\")), mdx(\"h2\", {\n    \"id\": \"generating-patterns\"\n  }, \"Generating Patterns\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=CEtz15mK7nc\"\n  }, \"https://www.youtube.com/watch?v=CEtz15mK7nc\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=lVzhBqiGoY0\"\n  }, \"https://www.youtube.com/watch?v=lVzhBqiGoY0\")), mdx(\"h2\", {\n    \"id\": \"the-zig-zag-problem--degrees-vs-positions\"\n  }, \"The zig zag problem / degrees vs positions\"), mdx(\"p\", null, \"Imagine we want a zig zag pattern like this on a C major scale:\"), mdx(\"p\", null, \"notes: C-E D-F E-G F-A G-B A-C B-D (C)\\ndegrees: 1-3 2-4 3-5 4-6 5-7 6-8 7-9 (8)\"), mdx(\"p\", null, \"What if we want to practise the same idea over a C minor pentatonic scale?\"), mdx(\"p\", null, \"notes: C-F Eb-G F-Bb G-C Bb-Eb C\\nintervals: 4P -2 3 -2 4 -3m 4 -2 4 -3m\\nsteps: 1-4 b3-5 4-b7 5-1 b7-b3 1\\ndegrees: 1-4 3-5 4-7 5-1 7-3 1\"), mdx(\"p\", null, \"As we can see, the intervals/steps/degrees are different from one another, but the idea is kind of the same:\\nTake the scale, play note 1 and 3, 2 and 4, 3 and 5 and so on..\\nThe Problem: At this point, we see that the degree no longer represents our mental model. It only works as long as the scale degree matches the note position. So we can use that \\u201Cposition\\u201D as a alternative and most times better way to describe patterns:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"position 3 of a C major scale is E (degree 3)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"position 3 of a C minor pentatonic scale is F (degree 4)\")), mdx(\"p\", null, \"To describe the zig zag pattern with positions it is simply:\\n1-3 2-4 3-5 4-6 5-7 6-8 7-9 (8) for the major scale\\n1-3 2-4 3-5 4-6 5-7 (6) for the minor pentatonic scale\"), mdx(\"p\", null, \"As we see, the zig zag pattern expressed in positions looks equal when ignoring its length.\\nDue to the fact that a pentatonic scale has only 5 notes, we can stop when the 6ths note is reached (which is the first note again). With the major scale we have to continue further to get all notes played. This issue will we discussed in the implementation.\"), mdx(\"h2\", {\n    \"id\": \"implementation\"\n  }, \"Implementation\"), mdx(\"h3\", {\n    \"id\": \"simple-patterns\"\n  }, \"Simple patterns\"), mdx(\"p\", null, \"Lets warm up by implementing a simple pattern rendering function:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"getPositions(positions, array) {\\n  return positions.map(p => array[(p - 1) % array.length]);\\n}\\n\")), mdx(\"p\", null, \"And yes, positions start with 1, because thats the musical norm.\"), mdx(\"p\", null, \"Example usage:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"getPositions([1, 3, 5], cMajor); // [C, E, G]\\ngetPositions([5, 3], cMinor); // [G, Eb]\\n\")), mdx(\"p\", null, \"This method will build the basis of everything that follows!\"), mdx(\"h3\", {\n    \"id\": \"nested-patterns\"\n  }, \"Nested Patterns\"), mdx(\"p\", null, \"Most musical patterns are a combination of multiple simple patterns to a more complex one.\\nFor example, misterioso, a blues head by Monk:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"G E, A F, B G, A F // bar one\\nC A, D Bb, Eb C, D Bb // bar two\\n\")), mdx(\"p\", null, \"The most simple and meaningful way to analyze this is a movement over degrees 1, 2, 3, 2 playing the 5 and 3. The first bar is in c major and the second in f mixolydian.\\nSo we could describe this as being two nested patterns:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"Pattern.getNested(cMajor, [1, 2, 3, 2], [5, 3]); // G E, A F, B G, A F\\nPattern.getNested(fMixo, [1, 2, 3, 2], [5, 3]); // C A, D Bb, Eb C, D Bb\\n\")), mdx(\"p\", null, \"Implementation:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"getNested(array, parent, child) {\\n  return parent.map(i => getPositions(child.map(p => p + i - 1), array));\\n}\\n\")), mdx(\"p\", null, \"This will render the child pattern for each parent element, adding the positions to get the relative value.\\nFor misterioso, the added positions would look like those:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"[[1+5-1, 1+3-1], [2+5-1, 2+3-1], [3+5-1, 3+3-1], [2+5-1, 2+3-1]]\\n\")), mdx(\"p\", null, \"=\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"[[5, 3], [6, 4], [7, 5], [6, 4]]\\n\")), mdx(\"h2\", {\n    \"id\": \"relative-positional-transposition\"\n  }, \"Relative Positional Transposition\"), mdx(\"p\", null, \"Relative positional transposition means transposing a note inside a scale to another note of the scale by some number of positions:\"), mdx(\"p\", null, \"inside c major:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"transposing D by 2 positions up yields F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"transposing G by 3 positions yields C\")), mdx(\"p\", null, \"inside c minor pentatonic:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"transposing C by 2 positions up yields F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"transposing Eb by 2 positions up yields G\")), mdx(\"h3\", {\n    \"id\": \"scale-shuffling\"\n  }, \"Scale Shuffling\"), mdx(\"p\", null, \"Often times, especially when practising, we would want to play through a scale by some regular order:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c major regular order: C D E F G A B (C)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c major \\u201Cevery other\\u201D note: C E G B D F A (C)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"c minor pentatonic \\u201Cevery other\\u201D: C F Bb Eb G (C)\")), mdx(\"p\", null, \"The label \\u201Cevery other\\u201D just means the next note will be two positions away.\"), mdx(\"p\", null, \"The following function can be used to do this kind of shuffling:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"  static traverse(n, m, i = 0) {\\n    let order = [];\\n    while (!order.includes(i)) {\\n      order.push(i);\\n      i = (i + m) % n;\\n    }\\n    return order;\\n  }\\n\")), mdx(\"p\", null, \"This function will start with i, adding m inside a range n. it stops before the same number would appear twice. Examples:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"traverse(3, 0); // 0 => stops immediatly\\ntraverse(3, 1); // 0, 1, 2 => default order => one by another\\ntraverse(3, 1, 1); // 1, 2, 0 => default order, starting from index 1\\ntraverse(3, 2); // 0, 2, 1 => skip every other index\\ntraverse(4, 2); // 0, 2 => skip every other index with even number => not all numbers are represented\\ntraverse(4, 2, 1); // 1, 3 => different start\\n\")), mdx(\"p\", null, \"as soon as n is divisable by m, not all numbers in the range will be outputted. See the musical examples for a more vivid picture. We can now apply this number shuffling to an array:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"traverseArray(array, move, start) {\\n  return traverse(array.length, move, start).map(i => array[i]);\\n}\\n\")), mdx(\"p\", null, \"Some examples:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// musical\\nconst chromatic = ['C', 'Db' /** ... all chromatic notes **/, , 'Bb', 'B'];\\ntraverseArray(chromatic, 2); // [C, D, E, Gb, Ab, Bb] // GT / 2M stack\\ntraverseArray(chromatic, 3); // [C, Eb, Gb, A] // dim7 / 3m stack\\ntraverseArray(chromatic, 4); // [C, E, Ab] // aug / 3M stack\\ntraverseArray(chromatic, 5); // [C, F, Bb, Eb, Ab, Db, Gb, B, E, A, D, G] // circle of 4ths\\ntraverseArray(chromatic, 6); // [C, Gb] // tritone\\n// the following are the same as with 2 - 5 but reversed\\ntraverseArray(chromatic, 7); // [C, G, D, A, E, B, Gb, Db, Ab, Eb, Bb, F] // circle of 5ths\\ntraverseArray(chromatic, 8); // [C, Ab, E] // aug down / 6m stack\\ntraverseArray(chromatic, 9); // [C, A, Gb, Eb] // dim7 down / 6M stack\\ntraverseArray(chromatic, 10); //  [C, Bb, Ab, Gb, E, D] // GT down / 7m stack\\n\\ntraverseArray(major, 2); //  [C, E, G, B, D, F, A] // thirds\\ntraverseArray(major, 3); //  [C, F, B, E, A, D, G] // fourths\\ntraverseArray(major, 4); //  [C, G, D, A, E, B, F] // fifths\\ntraverseArray(major, 5); //  [C, A, F, D, B, G, E] // sixths\\ntraverseArray(major, 6); //  [C, B, A, G, F, E, D] // sevenths\\n\\ntraverseArray(pentatonic, 2); //  [C, F, Bb, Eb, G] // every second\\ntraverseArray(pentatonic, 3); //  [C, G, Eb, Bb, F] // every third\\ntraverseArray(pentatonic, 4); //  [C, Bb, G, F, Eb] // every fourth\\n\")), mdx(\"p\", null, \"As we see, only using 5 or 7 results in all elements being present in the output. This happens because the number of items (12) is not dividable by those numbers. If the number of items is dividable, we get n duplicate blocks of the same items. Interestingly, the number of notes in major or pentatonic scales are prime, so any movement contains all notes!\"), mdx(\"h3\", {\n    \"id\": \"regular-patterns\"\n  }, \"Regular Patterns\"), mdx(\"p\", null, \"We can now generate more complex patterns by using simple patterns that are transposed relatively:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function traverseNested(array, pattern, move = 1) {\\n  return Pattern.getNested(array, traverseArray(array, move), pattern);\\n}\\n\")), mdx(\"p\", null, \"This function will traverse the array and apply the given pattern relative to each note.\"), mdx(\"p\", null, \"Example Values:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \" traverseNested(major, [1, 3]); // C,E D,F E,G F,A G,B A,C B,D\\n traverseNested(chromatic, [1, 5], 2); // C,E D,F# E,G# Gb,Bb Ab,C Bb,D\\n traverseNested(cMinorPenetatonic, [1, 3], 1)\\n // => [[C, F], [Eb, G], [F, Bb], [G, C], [Bb, Eb]]\\n traverseNested(cMajor, [1, 3], 1)\\n // => [[C, E], [D, F], [E, G], [F, A], [G, B], [A, C], [B, D]]\\n traverseNested(cMajor, [1, 3, 5]) == [C, E, G]\\n traverseNested(cMajor, [2, 4, 6]) == [D, F, A]\\n traverseNested(cMajor, [1, 3, 5], 1)\\n // => [[C, E, G], [D, F, A], [E, G, B], [F, A, C], [G, B, D], [A, C, E], [B, D, F]]\\n traverseNested(cMajor, [1, 3, 5], 3)\\n // => [[C, E, G], [F, A, C], [B, D, F], [E, G, B], [A, C, E], [D, F, A], [G, B, D]]\\n traverseNested(cMajor, [1, 2, 3, 1], 1) => clarke 2\\n\")), mdx(\"h2\", {\n    \"id\": \"musical-fractals\"\n  }, \"Musical Fractals\"), mdx(\"p\", null, \"Image this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"Pattern.getNested(major, [1, 3, 5], [1, 3, 5]); // C,E D,F E,G F,A G,B A,C B,D\\n\")), mdx(\"h2\", {\n    \"id\": \"using-bjorklund-algorithm-for-musical-patterns\"\n  }, \"Using Bjorklund algorithm for musical patterns\"), mdx(\"p\", null, \"The bjorklund algorithm is used to get the most even distribution n pulses over m steps.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://tidalcycles.org/index.php/Tutorial\"\n  }, \"https://tidalcycles.org/index.php/Tutorial\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://erikdemaine.org/papers/DeepRhythms_CGTA/paper.pdf\"\n  }, \"https://erikdemaine.org/papers/DeepRhythms_CGTA/paper.pdf\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://cgm.cs.mcgill.ca/~godfried/publications/banff.pdf\"\n  }, \"http://cgm.cs.mcgill.ca/~godfried/publications/banff.pdf\")), mdx(\"p\", null, \"Examples\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"bjorklund(12, 0); //\\xA0nothing\\nbjorklund(12, 1); //\\xA0one note\\nbjorklund(12, 2); //\\xA0tritone, duality\\nbjorklund(12, 3); // augmented, trinity\\nbjorklund(12, 4); // diminished, tetraktys\\nbjorklund(12, 5); // [1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0] pentatonic scale (when rotated)!\\nbjorklund(12, 6); // every other\\nbjorklund(12, 7); // [0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1] ionian family (when rotated)\\nbjorklund(12, 8); //\\xA0[0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1] HTGT / GTHT depending on rotation\\nbjorklund(12, 9); //\\xA0[0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1] ?? augmented inverted\\nbjorklund(12, 10); //\\xA0[0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1] all except two\\nbjorklund(12, 11); //\\xA0[0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1] all except one\\nbjorklund(12, 12); //\\xA0everything\\n\\nbjorklund(7, 3); //[1, 0, 1, 0, 1, 0, 0] // triad 135 136 146\\nbjorklund(7, 4); //[1, 0, 1, 0, 1, 0, 1] // seventh chord 1357\\nbjorklund(7, 5); //[1, 0, 1, 1, 0, 1, 1] // pentatonic (rotated)\\nbjorklund(7, 6); //[0, 1, 1, 1, 1, 1, 1] // all except one\\n\")), mdx(\"p\", null, \"taken from \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gist.github.com/withakay/1286731\"\n  }, \"https://gist.github.com/withakay/1286731\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"/*\\nAn implementation of the Bjorklund algorithm in JavaScript\\nInspired by the paper 'The Euclidean Algorithm Generates Traditional Musical Rhythms' \\nby Godfried Toussaint\\n\\x03\\nThis is a port of the original algorithm by E. Bjorklund which I\\nfound in the paper 'The Theory of Rep-Rate Pattern Generation in the SNS Timing Systems' by\\nE. Bjorklund.\\nJack Rutherford\\n*/\\n\\nfunction bjorklund(steps, pulses) {\\n  steps = Math.round(steps);\\n  pulses = Math.round(pulses);\\n\\n  if (pulses > steps || pulses == 0 || steps == 0) {\\n    return new Array();\\n  }\\n\\n  pattern = [];\\n  counts = [];\\n  remainders = [];\\n  divisor = steps - pulses;\\n  remainders.push(pulses);\\n  level = 0;\\n\\n  while (true) {\\n    counts.push(Math.floor(divisor / remainders[level]));\\n    remainders.push(divisor % remainders[level]);\\n    divisor = remainders[level];\\n    level += 1;\\n    if (remainders[level] <= 1) {\\n      break;\\n    }\\n  }\\n\\n  counts.push(divisor);\\n\\n  var r = 0;\\n  var build = function(level) {\\n    r++;\\n    if (level > -1) {\\n      for (var i = 0; i < counts[level]; i++) {\\n        build(level - 1);\\n      }\\n      if (remainders[level] != 0) {\\n        build(level - 2);\\n      }\\n    } else if (level == -1) {\\n      pattern.push(0);\\n    } else if (level == -2) {\\n      pattern.push(1);\\n    }\\n  };\\n\\n  build(level);\\n  return pattern.reverse();\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"pattern-snippets\"\n  }, \"Pattern Snippets\"), mdx(\"p\", null, \"e.g. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"\\\"chromatic\\\" <saw(12,5)>\\n\\\"major\\\" <saw(8,3)> + <1 3 5>\\n\")), mdx(\"h2\", {\n    \"id\": \"math-stuff\"\n  }, \"Math Stuff\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://mauriciopoppe.github.io/function-plot/\"\n  }, \"https://mauriciopoppe.github.io/function-plot/\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://mauriciopoppe.github.io/greuler\"\n  }, \"https://mauriciopoppe.github.io/greuler\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/mauriciopoppe/math-codegen\"\n  }, \"https://github.com/mauriciopoppe/math-codegen\"), \" !!\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html#689\"\n  }, \"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html#689\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=V5tUM5aLHPA\"\n  }, \"https://www.youtube.com/watch?v=V5tUM5aLHPA\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=xBaA-iTYwi4\"\n  }, \"https://www.youtube.com/watch?v=xBaA-iTYwi4\")), mdx(\"p\", null, \"Algorithms from Fractmus to generate numbers:\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Thue%E2%80%93Morse_sequence\"\n  }, \"https://en.wikipedia.org/wiki/Thue%E2%80%93Morse_sequence\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://de.wikipedia.org/wiki/Collatz-Problem\"\n  }, \"https://de.wikipedia.org/wiki/Collatz-Problem\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Chaos_theory\"\n  }, \"https://en.wikipedia.org/wiki/Chaos_theory\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=FYE4JKAXSfY\"\n  }, \"https://www.youtube.com/watch?v=FYE4JKAXSfY\"), \" (Lorentz Attraktor)\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=JhHugpABjDo\"\n  }, \"https://www.youtube.com/watch?v=JhHugpABjDo\"), \" (Hopalong Attraktor)\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=PtfPDfoF-iY\"\n  }, \"https://www.youtube.com/watch?v=PtfPDfoF-iY\"), \" (Logistic Map)\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.youtube.com/watch?v=5k18BuEES34\"\n  }, \"https://www.youtube.com/watch?v=5k18BuEES34\"), \" (Gingerbreadman Map) !\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/List_of_chaotic_maps\"\n  }, \"https://en.wikipedia.org/wiki/List_of_chaotic_maps\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://softology.com.au/voc.htm\"\n  }, \"http://softology.com.au/voc.htm\"), \" !\"), mdx(\"h2\", {\n    \"id\": \"rendering\"\n  }, \"Rendering\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://twgljs.org/\"\n  }, \"http://twgljs.org/\")));\n}\n;\nMDXContent.isMDXComponent = true;"},"site":{"siteMetadata":{"title":"Loophole Letters"}}},"pageContext":{"id":"49cf29dd-52e2-561f-a225-3fab17be5162","parent":{"name":"patterns","base":"patterns.md","relativePath":"ideas/patterns.md","sourceInstanceName":"content/notes"},"title":"patterns"}},"staticQueryHashes":[]}