{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/ireal-changes/","result":{"data":{"site":{"siteMetadata":{"title":"Loophole Letters","social":[{"name":"github","url":"https://github.com/felixroos"},{"name":"GitHub","url":"https://github.com/gatsbyjs"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"77bd7c6e-e55b-57b6-bae4-7c563ff0388b","excerpt":"In the previous posts, my focus was the implementation of rhythmical, which is basically a programmable sequencer.\nIf we had some chord…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Parsing iReal Chord Changes\",\n  \"date\": \"2020-06-13T00:00:00.000Z\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In the previous posts, my focus was the implementation of rhythmical, which is basically a programmable sequencer.\\nIf we had some chord changes, we could turn it into a basic backing track player.\"), mdx(\"p\", null, \"One of the biggest collections of chord changes for many genres is the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://irealb.com/forums/\"\n  }), \"ireal forum\"), \", which can be used with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://irealpro.com/\"\n  }), \"ireal pro\"), \" to generate backing tracks. They did this seperation after having some copyright issues.\\nThis is good for us, as all the data is there for us, waiting to be decrypted\\u2026\"), mdx(\"h2\", {\n    \"id\": \"ireal-format\"\n  }, \"ireal format\"), mdx(\"p\", null, \"Importing changes to ireal pro works by clicking a link in the forum. Lucky for us, all the data is contained in the URL, for example, this link contains the chord changes of the Beatles Song \\u201CEleanor Rigby\\u201D:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"irealb://Eleanor%20Rigby%3DThe%20Beatles%20%28Lennon%2C%20McCartney%29%3D%3DRock%20Pop%3DE-%3D%3D1r34LbKcu7XC%7CQy4CXyQ%20lcKQyX-ESA*%7B%7D%20%20lcKQyX-EZL%20lcKLZE-X4Ti*%7B%20%20QyXE-LZE-E%20C%7CQyXCZL%29D/%28W%20%20-EZL%20lcKQyX-%20%5DXyQ%20C%7CQyQyXE/7XyQ%7C6-E%7CQyX7-E%7CQyXE-%7CQyXE/C%7CQyX6-EXyQ%7CC-EB*%5B-EQ%5B%7DyQ%7D%7B*adoC%20la%20.S.D%3C%7CyQX-EZL%20lcKQyXCC%3E%20x%20%20X-EQ%7CXyQZ%20%3DPop-Rock%3D130%3D1%3D%3D%3D\\n\")), mdx(\"p\", null, \"If we decode the special chars and add some formatting, it looks like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"irealb://\\nEleanor Rigby=The Beatles (Lennon, McCartney)==Rock Pop=E-==\\n1r34LbKcu7XC|Qy4CXyQ lcKQyX-ESA*{}  lcKQyX-EZL lcKLZE-X4Ti*{  QyXE-LZE-E C|QyXCZL)D/(W  -EZL lcKQyX- ]XyQ C|QyQyXE/7XyQ|6-E|QyX7-E|QyXE-|QyXE/C|QyX6-EXyQ|C-EB*[-EQ[}yQ}{*adoC la .S.D<|yQX-EZL lcKQyXCC> x  X-EQ|XyQZ\\n=Pop-Rock=130=1===\\n\")), mdx(\"p\", null, \"The structure is:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"irealb://\\n{title}={composer}=={style}={key}==\\n{scrambled chord changes}\\n={compStyle}={bpm}={repeats}===\\n\")), mdx(\"p\", null, \"This is what ireal pro makes of the link:\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"532px\"\n    }\n  }, \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"134.20289855072463%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC90lEQVRIx4WVyUtzUQzF7x8vuHanG0Fw40ILBRdWUKmgUqst1gHHasW5g0Odh3z8AueRVwpf4PHuzctNTnKS+9LT05N1u127v7+319dXQ35/f/19eHhoi4uLtrS0ZMVi0cbHx21nZ8deXl6s1+vZ8/Oztdttu7m5sU6nY/hK09PTdnl5aScnJ3Z3d2eSv7+/bI0hh/b39/25uLiw09NTa7Vadn5+bmdnZx6cdxobG/MDkp+fH+v3+77+/Pz0Bzk6OvJvErLQ/vv7298gT6Ojo45QqL6+vuzh4cH3W1tbjhr9zMyMI5IoZZ5KpeI219fXlkZGRjy6ovJ8fHy4gWoJAlALCUJglUV2OE+Tk5NWrVZzDt/e3rJDpIyOLNhL0FNXOUMAkmCxXC7nUoZxpFar2e3tbZaySoPQGfPz8/5NSClDwiiyS6GFRISgoz5CLvS0TCQK+0Te7+/vHkVsQ4qc6bAOas0blAqIc3RpeXnZdnd3s7RQzs7OeroS2oHD2MA8BIF2YmIiA4HTx8dHSxiyQCgyaEGo6JEcDilt9jQ49hLWieixNqKfwzx8hz10w6ZIe+nS+vq6z6dgI7AHUaBkhlk3m81cz+EA++icddrc3MxSViRaBVRqIdpBtYpohiKECNKK0QkQm1gdEHWsNZa5tikUCp5WNJ6bm7ONjY2s4LwpQ6w1IKampnK1dZa5tmCLtISSyDS8JgZdo9Gwg4OD3JjRWrpDM5ZR8HFwyOPgs0YXWwlCSqVSDjX9mdbW1vxGllOxvL29nRkTeWFhIXfbkHKsP+LX1+rqqh0fH+eY5ualFLoXQUkAbuWYMhMWG5sM/Beg/tMdGK8k6UknphzR5lJmlvlPDLu+9vb2fBwR5lt61ZmSYA9hCGQmhl3sqfvFHA5Ago5LmBslOqRmdAdTxP7q6soSzjR6YpQmjmkPjpdqyK8DZ/z5+K+wTzTxyspKZgwi5ls1GmyfYZdDlITner2e6y9qEomKsxrf8VHANJhK/Pg/NMPkH5vYC+cySjv/AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"eleanor rigby\",\n    \"title\": \"eleanor rigby\",\n    \"src\": \"/blog/static/3121b80f053637a69ac165fa59cdbf7e/89a37/eleanorrigbychords.png\",\n    \"srcSet\": [\"/blog/static/3121b80f053637a69ac165fa59cdbf7e/e4d6b/eleanorrigbychords.png 345w\", \"/blog/static/3121b80f053637a69ac165fa59cdbf7e/89a37/eleanorrigbychords.png 532w\"],\n    \"sizes\": \"(max-width: 532px) 100vw, 532px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \"), mdx(\"br\", null), mdx(\"h2\", {\n    \"id\": \"ireal-reader\"\n  }, \"ireal-reader\"), mdx(\"p\", null, \"Luckily, there is already a lib that parses the link format, called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pianosnake/ireal-reader\"\n  }), \"ireal-reader\"), \". We can get a JSON like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"import iRealReader from 'ireal-reader';\\n\\nconst playlist = new iRealReader(decodeURI(link));\\n\")), mdx(\"p\", null, \"This is how the returned object looks:\"), mdx(RealReader, {\n    url: \"irealb://Eleanor%20Rigby%3DThe%20Beatles%20%28Lennon%2C%20McCartney%29%3D%3DRock%20Pop%3DE-%3D%3D1r34LbKcu7XC%7CQy4CXyQ%20lcKQyX-ESA*%7B%7D%20%20lcKQyX-EZL%20lcKLZE-X4Ti*%7B%20%20QyXE-LZE-E%20C%7CQyXCZL%29D/%28W%20%20-EZL%20lcKQyX-%20%5DXyQ%20C%7CQyQyXE/7XyQ%7C6-E%7CQyX7-E%7CQyXE-%7CQyXE/C%7CQyX6-EXyQ%7CC-EB*%5B-EQ%5B%7DyQ%7D%7B*adoC%20la%20.S.D%3C%7CyQX-EZL%20lcKQyXCC%3E%20x%20%20X-EQ%7CXyQZ%20%3DPop-Rock%3D130%3D1%3D%3D%3D\",\n    mdxType: \"RealReader\"\n  }), mdx(\"br\", null), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"everything is a playlist\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"each song has some metadata\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the property music contains the actual changes\")), mdx(\"h3\", {\n    \"id\": \"measures\"\n  }, \"Measures\"), mdx(\"p\", null, \"Unfortunately, the chords in music.measures are not rendered correctly.\\nLet\\u2019s format the JSON to a readable text version (left) and compare it to how ireal plays it (right):\"), mdx(ReactDiffViewer, {\n    oldValue: \"\\n// intro\\nC | C | E- | E-\\nC | C | E- | E-\\n// A\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// B\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// repeat A\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// repeat B\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// C\\nC | C | E- | E-\\nC | C | E- | E-\\n// Coda\\nE-\\n// A\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// B\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// A repeat\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// B repeat\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// C\\nC | C | E- | E-\\nC | C | E- | E-\\n// Coda\\nE-\\n\",\n    newValue: \"\\n// intro\\nC | C | E- | E-\\nC | C | E- | E-\\n// A\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// B\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// repeat A\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// repeat B\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// C\\nC | C | E- | E-\\nC | C | E- | E-\\n// A\\nE- | E- | E- | C\\nC E- | E- | E- | E- E-/D\\nC | C E-\\n// B\\nE-7 | E-6 | C/E | E-\\nE-7 | E-6 | C/E | E-\\n// Coda\\nE-\\n\",\n    splitView: true,\n    extraLinesSurroundingDiff: 100,\n    useDarkTheme: true,\n    mdxType: \"ReactDiffViewer\"\n  }), mdx(\"br\", null), mdx(\"p\", null, \"Problems:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The Coda is mistakenly played after the first C part\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A B are repeated again + C is played twice => coda sign seems to be ignored\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It seems the coda and dal segnio is just ignored and everything (except the intro) is repeated\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Even if everything was correct, we still won\\u2019t know any info on the structure of the sheet, which we need, at least for meaningful visual rendering\")), mdx(\"h3\", {\n    \"id\": \"raw-output\"\n  }, \"raw output\"), mdx(\"p\", null, \"As the measures are not really usable for playback, and also visual rendering is not possible without some structural info, we need another strategy to get the data.\"), mdx(\"p\", null, \"The good news is that the lib turns the scrambled chord changes (left) into a parseable string (right):\"), mdx(ReactDiffViewer, {\n    oldValue: \"1r34LbKcu7XC|Qy4CXyQ lcKQyX-ESA*{}  lcKQyX-EZL lcKLZE-X4Ti*{  QyXE-LZE-E C|QyXCZL)D/(W  -EZL lcKQyX- ]XyQ C|QyQyXE/7XyQ|6-E|QyX7-E|QyXE-|QyXE/C|QyX6-EXyQ|C-EB*[-EQ[}yQ}{*adoC la .S.D<|yQX-EZL lcKQyXCC> x  X-EQ|XyQZ \",\n    newValue: \"{*iT44CXyQKcl LZE-XyQKcl }{*ASE-XyQKcl LZE-XyQ|CXyQ|C E-LZE-XyQKcl LZE- (W/D)LZCXyQ|C E- ]XyQXyQ [*BE-7XyQ|E-6XyQ|C/EXyQ|E-XyQ|E-7XyQ|E-6XyQ|C/EXyQ|QE-XyQ}{*CCXyQKcl LZE-XyQ|<D.S. al Coda> x }[QE-XyQZ \",\n    splitView: true,\n    extraLinesSurroundingDiff: 100,\n    useDarkTheme: true,\n    mdxType: \"ReactDiffViewer\"\n  }), mdx(\"br\", null), mdx(\"p\", null, \"In the comments of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/pianosnake/ireal-reader/blob/master/unscramble.js\"\n  }), \"the unscramble script\"), \", it states, that \\u201Cstrings are broken up in 50 character segments. each segment undergoes character substitution addressed by obfusc50()\\u201C.\"), mdx(\"p\", null, \"So instead of relying on the measures output, we can just use the raw string to generate our own measures. This is where ireal-renderer comes in.\"), mdx(\"h2\", {\n    \"id\": \"ireal-renderer\"\n  }, \"ireal-renderer\"), mdx(\"p\", null, \"The lib \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/daumling/ireal-renderer\"\n  }), \"ireal-renderer\"), \" renders ireal sheets as html. Internally, it uses ireal-reader to get the unscrambled raw string and then uses custom regex to parse it.\"), mdx(\"h3\", {\n    \"id\": \"string-decryption\"\n  }, \"String Decryption\"), mdx(\"p\", null, \"In the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/daumling/ireal-renderer/blob/master/src/ireal-renderer.js#L24\"\n  }), \"comments\"), \", the different parts of the string are described:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"/*\\n * The parser cracks up the music string at song.music into several objects,\\n * one for each cell. iReal Pro works with rows of 16 cell each. The result\\n * is stored at song.cells.\\n *\\n * Each object has the following properties:\\n *\\n * chord: if non-null, a chord object with these properties:\\n *   note      - the base note (also blank, W = invisible root, p/x/r - pause/bar repeat/double-bar repeat, n - no chord)\\n *   modifiers - the modifiers, like 7, + o etc (string)\\n *   over      - if non-null, another chord object for the under-note\\n *   alternate - if non-null another chord object for the alternate chord\\n * annots: annotations, a string of:\\n *  *x  - section, like *v, *I, *A, *B etc\\n *  Nx  - repeat bots (N1, N2 etc)\\n *  Q   - coda\\n *  S   - segno\\n *  Txx - measure (T44 = 4/4 etc, but T12 = 12/8)\\n *  U   - END\\n *  f   - fermata\\n *  l   - (letter l) normal notes\\n *  s   - small notes\\n * comments: an array of comment strings\\n * bars: bar specifiers, a string of:\\n *  | - single vertical bar, left\\n *  [ - double bar, left\\n *  ] - double bar, right\\n *  { - repeat bar, left\\n *  } - repeat bar, right\\n *  Z - end bar, right\\n * spacer - a number indicating the number of vertical spacers above this cell\\n *\\n * XyQ - 3 empty cells\\n * Kcl - repeat last bar\\n * LZ - bar line\\n * */\\n\")), mdx(\"p\", null, \"If we decipher our unscrambled beatles string with these tokens, we get this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"{ // repeat start\\n*i // intro section\\nT44 // 44 time\\nC // chord\\nXyQ // 3 empty cells\\nKcl // repeat last bar\\nLZ // bar line\\nE- // chord\\nXyQ // 3 empty cells\\nKcl // repeat last bar\\n} // repeat end\\n{ // repeat start\\n*A // A section\\nS // Dal Segnio\\nE- // chord\\nXyQ // 3 empty cells\\nKcl // repeat last bar\\nLZ // bar line\\nE- // chord\\nXyQ // 3 empty cells\\n| // barline\\nC // chord\\nXyQ // 3 empty cells\\n| // barline\\nC // chord\\n  // empty cell\\nE- // chord\\nLZ // barline\\nE- // chord\\nXyQ // 3 empty cells\\nKcl // repeat last bar\\nLZ // barline\\nE- // chord\\n(W/D) // comment\\nLZ // barline\\nC // chord\\nXyQ // 3 empty cells\\n| // barline\\nC // chord\\n  // empty cell\\nE- // chord\\n] // double bar right\\nXyQXyQ // 7 empty cells\\n[ // double bar left\\n*B // section B\\nE-7 // chord\\nXyQ| // 3 empty cells + barline\\nE-6 // chord\\nXyQ| // 3 empty cells + barline\\nC/E // chord\\nXyQ| // 3 empty cells + barline\\nE- // chord\\nXyQ| // 3 empty cells + barline\\nE-7 // chord\\nXyQ| // 3 empty cells + barline\\nE-6 // chord\\nXyQ| // 3 empty cells + barline\\nC/E // chord\\nXyQ| // 3 empty cells + barline\\nQ // coda sign\\nE- // chord\\nXyQ // 3 empty cells\\n} // repeat end\\n{ // repeat start\\n*C // section C\\nC // chord\\nXyQ // 3 empty cells\\nKcl LZ // repeat last bar + space + barline\\nE- // chord\\nXyQ| // 3 empty cells + barline\\n<D.S. al Coda> x\\n} // repeat end\\n[ // double barline left\\nQ // Coda sign\\nE- // chord\\nXyQ // 3 empty cells\\nZ // end of song\\n\")), mdx(\"p\", null, \"ireal-renderer essentially does this with regex magic, turning each cell into an object for rendering.\"), mdx(\"p\", null, \"As the ireal-renderer package does not expose a method that returns the parsed objects, I took the code and modified it for a more general purpose, as part of my \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/felixroos/leetsheet\"\n  }), \"leetsheet package\"), \":\"), mdx(\"h2\", {\n    \"id\": \"leetsheet\"\n  }, \"leetsheet\"), mdx(\"p\", null, \"With leetsheet, the raw unscrambled string can be parsed with RealParser.parseSheet:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"import { RealParser } from 'leetsheet/lib/RealParser';\\nimport iRealReader from 'ireal-reader';\\nconst playlist = iRealReader(decodeURI(url));\\nconst song = playlist.songs[0];\\nconst sheet = RealParser.parseSheet(song.music.raw);\\n\")), mdx(RealRenderer, {\n    url: \"irealb://Eleanor%20Rigby%3DThe%20Beatles%20%28Lennon%2C%20McCartney%29%3D%3DRock%20Pop%3DE-%3D%3D1r34LbKcu7XC%7CQy4CXyQ%20lcKQyX-ESA*%7B%7D%20%20lcKQyX-EZL%20lcKLZE-X4Ti*%7B%20%20QyXE-LZE-E%20C%7CQyXCZL%29D/%28W%20%20-EZL%20lcKQyX-%20%5DXyQ%20C%7CQyQyXE/7XyQ%7C6-E%7CQyX7-E%7CQyXE-%7CQyXE/C%7CQyX6-EXyQ%7CC-EB*%5B-EQ%5B%7DyQ%7D%7B*adoC%20la%20.S.D%3C%7CyQX-EZL%20lcKQyXCC%3E%20x%20%20X-EQ%7CXyQZ%20%3DPop-Rock%3D130%3D1%3D%3D%3D\",\n    mdxType: \"RealRenderer\"\n  }), mdx(\"br\", null), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This array of Measure objects can be used for further processing, as it still contains all repeat signs / codas, sections etc..\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You can find more info on \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/felixroos/leetsheet#measures\"\n  }), \"the Measure object in the leetsheet readme\"), \".\")), mdx(\"h3\", {\n    \"id\": \"snippets\"\n  }, \"Snippets\"), mdx(\"p\", null, \"With Snippets, we can format the array of Measure objects to a compact human readable string:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"import { Snippet } from 'leetsheet/lib/Snippet';\\nlet snippet = Snippet.from(sheet);\\n\")), mdx(SheetSnippet, {\n    url: \"irealb://Eleanor%20Rigby%3DThe%20Beatles%20%28Lennon%2C%20McCartney%29%3D%3DRock%20Pop%3DE-%3D%3D1r34LbKcu7XC%7CQy4CXyQ%20lcKQyX-ESA*%7B%7D%20%20lcKQyX-EZL%20lcKLZE-X4Ti*%7B%20%20QyXE-LZE-E%20C%7CQyXCZL%29D/%28W%20%20-EZL%20lcKQyX-%20%5DXyQ%20C%7CQyQyXE/7XyQ%7C6-E%7CQyX7-E%7CQyXE-%7CQyXE/C%7CQyX6-EXyQ%7CC-EB*%5B-EQ%5B%7DyQ%7D%7B*adoC%20la%20.S.D%3C%7CyQX-EZL%20lcKQyXCC%3E%20x%20%20X-EQ%7CXyQZ%20%3DPop-Rock%3D130%3D1%3D%3D%3D\",\n    mdxType: \"SheetSnippet\"\n  }), mdx(\"p\", null, \"compared to the ireal rendering:\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"532px\"\n    }\n  }, \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"134.20289855072463%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC90lEQVRIx4WVyUtzUQzF7x8vuHanG0Fw40ILBRdWUKmgUqst1gHHasW5g0Odh3z8AueRVwpf4PHuzctNTnKS+9LT05N1u127v7+319dXQ35/f/19eHhoi4uLtrS0ZMVi0cbHx21nZ8deXl6s1+vZ8/Oztdttu7m5sU6nY/hK09PTdnl5aScnJ3Z3d2eSv7+/bI0hh/b39/25uLiw09NTa7Vadn5+bmdnZx6cdxobG/MDkp+fH+v3+77+/Pz0Bzk6OvJvErLQ/vv7298gT6Ojo45QqL6+vuzh4cH3W1tbjhr9zMyMI5IoZZ5KpeI219fXlkZGRjy6ovJ8fHy4gWoJAlALCUJglUV2OE+Tk5NWrVZzDt/e3rJDpIyOLNhL0FNXOUMAkmCxXC7nUoZxpFar2e3tbZaySoPQGfPz8/5NSClDwiiyS6GFRISgoz5CLvS0TCQK+0Te7+/vHkVsQ4qc6bAOas0blAqIc3RpeXnZdnd3s7RQzs7OeroS2oHD2MA8BIF2YmIiA4HTx8dHSxiyQCgyaEGo6JEcDilt9jQ49hLWieixNqKfwzx8hz10w6ZIe+nS+vq6z6dgI7AHUaBkhlk3m81cz+EA++icddrc3MxSViRaBVRqIdpBtYpohiKECNKK0QkQm1gdEHWsNZa5tikUCp5WNJ6bm7ONjY2s4LwpQ6w1IKampnK1dZa5tmCLtISSyDS8JgZdo9Gwg4OD3JjRWrpDM5ZR8HFwyOPgs0YXWwlCSqVSDjX9mdbW1vxGllOxvL29nRkTeWFhIXfbkHKsP+LX1+rqqh0fH+eY5ualFLoXQUkAbuWYMhMWG5sM/Beg/tMdGK8k6UknphzR5lJmlvlPDLu+9vb2fBwR5lt61ZmSYA9hCGQmhl3sqfvFHA5Ago5LmBslOqRmdAdTxP7q6soSzjR6YpQmjmkPjpdqyK8DZ/z5+K+wTzTxyspKZgwi5ls1GmyfYZdDlITner2e6y9qEomKsxrf8VHANJhK/Pg/NMPkH5vYC+cySjv/AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"eleanor rigby\",\n    \"title\": \"eleanor rigby\",\n    \"src\": \"/blog/static/3121b80f053637a69ac165fa59cdbf7e/89a37/eleanorrigbychords.png\",\n    \"srcSet\": [\"/blog/static/3121b80f053637a69ac165fa59cdbf7e/e4d6b/eleanorrigbychords.png 345w\", \"/blog/static/3121b80f053637a69ac165fa59cdbf7e/89a37/eleanorrigbychords.png 532w\"],\n    \"sizes\": \"(max-width: 532px) 100vw, 532px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Currently, the snippet does not support section headings, resulting in wrong line breaks.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Also, bass notes that are annotated with comments are not recognized (bar 12)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The good thing about the Snippet format is that is can be used as an editor, like I already implemented with \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://felixroos.github.io/jazzband/\"\n  }), \"the jazzband demo\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"leetsheet can also render a sheet for playback (resolve all jump signs), see \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/felixroos/leetsheet#sheetrender\"\n  }), \"Sheet.render\"), \". We will also look at this in a future post\")), mdx(\"h2\", {\n    \"id\": \"simple-viewer\"\n  }, \"Simple Viewer\"), mdx(\"p\", null, \"Here you can paste any ireal link and view the songs as text snippets:\"), mdx(RealPlaylist, {\n    url: playlist,\n    mdxType: \"RealPlaylist\"\n  }), mdx(\"h2\", {\n    \"id\": \"conclusion\"\n  }, \"Conclusion\"), mdx(\"p\", null, \"With this post we have unlocked the huge dataset of ireal changes to hack with! Here are some things we can do in future posts:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"generate backing tracks like ireal itself, using rhythmical\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"generate ear training exercises based on real world changes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"analyze common chord changes to find out what to practise as an improviser\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"feed sets into a hidden markov model to generate changes in a specific style\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"write a backing track player/editor that runs inside a shell\")), mdx(\"p\", null, \"TBD:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"fork ireal-reader to just generate metadata with unscrambled strings without measures array => faster\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"fix leetsheet expand bugs\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"add parser flag to keep empty cells (meaningful for visual rendering)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"write leetsheet feature for rhythmical\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"improve leetsheet docs e.g. Sheet.from, Snippet.from, Sheet.\")));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/ireal-changes/","title":"Parsing iReal Chord Changes","tags":[],"keywords":[],"date":"June 13, 2020"},"previous":{"__typename":"MdxBlogPost","id":"4a67d2c8-1cf8-53f5-a3c4-25316e09bb2b","excerpt":"Last week, a friend a I built a MIDI Controller for the Arturia Mini V3 VST: Front Panel Controls At first, we identified the different 4…","slug":"/midimoog/","title":"Building a Minimoog MIDI Controller","date":"June 11, 2020"},"next":{"__typename":"MdxBlogPost","id":"40c35d5c-2423-5ffc-9105-af248d82df38","excerpt":"Now that we have a huge dataset of chord changes, we can do some data mining on it. Metadata Rankings As a warmup, let's do a ranking of…","slug":"/ireal-analytics/","title":"Analyzing iReal Chord Changes","date":"June 14, 2020"}},"pageContext":{"id":"77bd7c6e-e55b-57b6-bae4-7c563ff0388b","previousId":"4a67d2c8-1cf8-53f5-a3c4-25316e09bb2b","nextId":"40c35d5c-2423-5ffc-9105-af248d82df38"}}}