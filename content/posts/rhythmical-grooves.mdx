---
title: Rhythmical Grooves
date: 2020-08-25
---

Trees can also be used to generate music on the fly. Improvising musicians only need a set of chord changes to play a tune.

Let's take a simple II V I progression:

```js
[['D-7', 'G7'], ['C^7']];
```

This is already a simple "rhythm", telling us how many chords are played per bar.

<Tree
  width={620}
  nodeRadius={10}
  dx={40}
  columns={[12, 12]}
  data={{
    name: 'II V I',
    color: 'black',
    children: [
      {
        color: colors[0],
        name: 'bar 1',
        children: [
          { name: 'D-7', color: colors[1] },
          { name: 'G7', color: colors[1] },
        ],
      },
      { name: 'bar 2', color: colors[0], children: [{ name: 'C^7', color: colors[1] }] },
    ],
  }}
  hideJson={true}
/>

If we now found a way to add rhythm + harmony, we would have a backing track.

### Adding rhythm

A simple way to add rhythm would be to have a dictionary of rhythms that can be stiched together.
To keep it simple, let's use the following rhythm:

```js
[
  [[[0, 1], 0], 1],
  [[1, 0, 0, 1], 0]
```

<Score
  width={660}
  height={100}
  staves={rhythmicalScore([
    [[['r', 'b4'], 'r'], 'b4'],
    [['b4', 'r', 'r', 'b4'], 'r'],
  ])}
/>

<Tree
  width={620}
  nodeRadius={10}
  dx={40}
  columns={[12, 12]}
  data={{
    name: 'rhythm',
    color: 'black',
    children: [
      {
        color: colors[0],
        name: 'bar 1',
        children: [
          {
            color: colors[1],
            children: [
              {
                color: colors[2],
                children: [
                  { color: colors[3], name: '0' },
                  { color: colors[3], name: '1' },
                ],
              },
              { color: colors[2], name: '0' },
            ],
          },
          {
            color: colors[1],
            name: '1',
          },
        ],
      },
      {
        name: 'bar 2',
        color: colors[0],
        children: [
          {
            color: colors[1],
            children: [
              {
                color: colors[2],
                name: '1',
              },
              {
                color: colors[2],
                name: '0',
              },
              {
                color: colors[2],
                name: '0',
              },
              {
                color: colors[2],
                name: '1',
              },
            ],
          },
          {
            color: colors[1],
            name: '0',
          },
        ],
      },
    ],
  }}
  hideJson={true}
/>

Now we can insert the chords into our rhythm by replacing every "1" with the chord at that time every "0" with a rest:

```js
[
  [[['r', 'D-7'], 'r'], 'G7'],
  [['C^7', 'r', 'r', 'C^7'], 'r'],
];
```

<Tree
  width={620}
  nodeRadius={10}
  dx={40}
  columns={[12, 12]}
  data={{
    name: 'II V I',
    color: 'black',
    children: [
      {
        color: colors[0],
        name: 'bar 1',
        children: [
          {
            color: colors[0],
            children: [
              {
                color: colors[1],
                children: [
                  { color: colors[2], name: '0' },
                  { color: colors[2], name: 'D-7' },
                ],
              },
              { color: colors[1], name: '0' },
            ],
          },
          {
            color: colors[0],
            name: 'G7',
          },
        ],
      },
      {
        name: 'bar 2',
        color: colors[0],
        children: [
          {
            color: colors[1],
            children: [
              {
                color: colors[2],
                name: 'C^7',
              },
              {
                color: colors[2],
                name: '0',
              },
              {
                color: colors[2],
                name: '0',
              },
              {
                color: colors[2],
                name: 'C^7',
              },
            ],
          },
          {
            color: colors[1],
            name: '0',
          },
        ],
      },
    ],
  }}
  hideJson={true}
/>

### Adding harmony

Now we still have the chord symbols. A real pianist will use those and turn them into a concrete set of notes.
