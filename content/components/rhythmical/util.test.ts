import { leafIndices, leafPaths } from './util';

test('leafIndices', () => {
  expect(leafIndices(['A', [['B', 'C'], 'D']])).toEqual([[0], [1, 0, 0], [1, 0, 1], [1, 1]]);

  expect(
    leafIndices([
      [
        ['sn', ['sn', 'sn', 'sn']],
        ['sn', ['sn', 'sn', 'sn']],
        ['sn', 'sn'],
      ],
      [
        ['sn', ['sn', 'sn', 'sn']],
        ['sn', ['sn', 'sn', 'sn']],
        [
          ['sn', 'sn', 'sn'],
          ['sn', 'sn', 'sn'],
        ],
      ],
    ])
  ).toEqual([
    [0, 0, 0],
    [0, 0, 1, 0],
    [0, 0, 1, 1],
    [0, 0, 1, 2],
    [0, 1, 0],
    [0, 1, 1, 0],
    [0, 1, 1, 1],
    [0, 1, 1, 2],
    [0, 2, 0],
    [0, 2, 1],
    [1, 0, 0],
    [1, 0, 1, 0],
    [1, 0, 1, 1],
    [1, 0, 1, 2],
    [1, 1, 0],
    [1, 1, 1, 0],
    [1, 1, 1, 1],
    [1, 1, 1, 2],
    [1, 2, 0, 0],
    [1, 2, 0, 1],
    [1, 2, 0, 2],
    [1, 2, 1, 0],
    [1, 2, 1, 1],
    [1, 2, 1, 2],
  ]);
});

test('leafPaths', () => {
  expect(
    leafPaths([
      [
        ['sn', ['sn', 'sn', 'sn']],
        ['sn', ['sn', 'sn', 'sn']],
        ['sn', 'sn'],
      ],
      [
        ['sn', ['sn', 'sn', 'sn']],
        ['sn', ['sn', 'sn', 'sn']],
        [['sn', 'sn', 'sn'], ['sn', 'sn', 'sn']],
      ],
    ])
  ).toEqual([
    [[0, 2], [0, 3], [0, 2]],
    [[0, 2], [0, 3], [1, 2], [0, 3]],
    [[0, 2], [0, 3], [1, 2], [1, 3]],
    [[0, 2], [0, 3], [1, 2], [2, 3]],
    [[0, 2], [1, 3], [0, 2]],
    [[0, 2], [1, 3], [1, 2], [0, 3]],
    [[0, 2], [1, 3], [1, 2], [1, 3]],
    [[0, 2], [1, 3], [1, 2], [2, 3]],
    [[0, 2], [2, 3], [0, 2]],
    [[0, 2], [2, 3], [1, 2]],
    [[1, 2], [0, 3], [0, 2]],
    [[1, 2], [0, 3], [1, 2], [0, 3]],
    [[1, 2], [0, 3], [1, 2], [1, 3]],
    [[1, 2], [0, 3], [1, 2], [2, 3]],
    [
      [1, 2],
      [1, 3],
      [0, 2],
    ],
    [
      [1, 2],
      [1, 3],
      [1, 2],
      [0, 3],
    ],
    [
      [1, 2],
      [1, 3],
      [1, 2],
      [1, 3],
    ],
    [
      [1, 2],
      [1, 3],
      [1, 2],
      [2, 3],
    ],
    [
      [1, 2],
      [2, 3],
      [0, 2],
      [0, 3],
    ],
    [
      [1, 2],
      [2, 3],
      [0, 2],
      [1, 3],
    ],
    [
      [1, 2],
      [2, 3],
      [0, 2],
      [2, 3],
    ],
    [
      [1, 2],
      [2, 3],
      [1, 2],
      [0, 3],
    ],
    [
      [1, 2],
      [2, 3],
      [1, 2],
      [1, 3],
    ],
    [
      [1, 2],
      [2, 3],
      [1, 2],
      [2, 3],
    ],
  ]);
});
